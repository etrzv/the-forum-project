{% extends 'base/base.html' %}
{% load static %}
{% block page_content %}
    <link rel="stylesheet" href="{% static 'css/articles/article-details.css' %}" />

    <main>
        <article class="article_box">
          <a href="{% url 'details article' article.slug %}" class="article_box_header_link"
            ><span
              >{{ article.title }}</span
            ></a
          >
          <div class="article_box_meta">
            <a href="{% url 'details user' pk=request.user.pk %}" class="article_box_author_link">{{ user.username }}</a>
            <time class="article_box_time">{{ article.date_created }}</time>
          </div>
          <div class="article_box_content">
              {{ article.content }}
          </div>
          <div class="buttons">

            <div class="like">
                <a href="{% url 'like article' article_id=article.id %}">
                <svg
                            width="24px"
                            height="24px"
                            viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                                d="M21.3,10.08A3,3,0,0,0,19,9H14.44L15,7.57A4.13,4.13,0,0,0,11.11,2a1,1,0,0,0-.91.59L7.35,9H5a3,3,0,0,0-3,3v7a3,3,0,0,0,3,3H17.73a3,3,0,0,0,2.95-2.46l1.27-7A3,3,0,0,0,21.3,10.08ZM7,20H5a1,1,0,0,1-1-1V12a1,1,0,0,1,1-1H7Zm13-7.82-1.27,7a1,1,0,0,1-1,.82H9V10.21l2.72-6.12A2.11,2.11,0,0,1,13.1,6.87L12.57,8.3A2,2,0,0,0,14.44,11H19a1,1,0,0,1,.77.36A1,1,0,0,1,20,12.18Z"></path>
                    </svg>
{#                    {% if article.is_liked_by_user %}#}
{#                    {% else %}#}
{#                    {% endif %}#}
                </a>
                <div class="likes_number">{{ article.likes_count }}</div>
            </div>

            <div class="dislike">
                <a href="{% url 'dislike article' article_id=article.id %}">
                    <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="21"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                    >
                        <path
                                d="M10 15v4a3 3 0 003 3l4-9V2H5.72a2 2 0 00-2 1.7l-1.38 9a2 2 0 002 2.3zm7-13h2.67A2.31 2.31 0 0122 4v7a2.31 2.31 0 01-2.33 2H17"></path>
                    </svg>
                </a>
                <div class="dislikes_number">{{ article.dislikes_count }}</div>
            </div>

            <div class="share">
                <a href="{% url 'share article' article_id=article.id %}">
                    <?xml version="1.0" encoding="UTF-8"?>
                    <svg
                            width="26px"
                            height="26px"
                            viewBox="0 0 24 24"
                            version="1.1"
                            xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                    >
                        <!-- Uploaded to SVGRepo https://www.svgrepo.com -->
                        <title>ic_fluent_share_24_regular</title>
                        <desc>Created with Sketch.</desc>
                        <g
                                id="🔍-Product-Icons"
                                stroke="none"
                                stroke-width="1"
                                fill="none"
                                fill-rule="evenodd"
                        >
                            <g
                                    id="ic_fluent_share_24_regular"
                                    fill="#212121"
                                    fill-rule="nonzero"
                            >
                                <path
                                        d="M6.746704,4 L10.2109085,4 C10.625122,4 10.9609085,4.33578644 10.9609085,4.75 C10.9609085,5.12969577 10.6787546,5.44349096 10.312679,5.49315338 L10.2109085,5.5 L6.746704,5.5 C5.55584001,5.5 4.58105908,6.42516159 4.50189481,7.59595119 L4.496704,7.75 L4.496704,17.25 C4.496704,18.440864 5.42186559,19.4156449 6.59265519,19.4948092 L6.746704,19.5 L16.247437,19.5 C17.438301,19.5 18.4130819,18.5748384 18.4922462,17.4040488 L18.497437,17.25 L18.497437,16.752219 C18.497437,16.3380054 18.8332234,16.002219 19.247437,16.002219 C19.6271328,16.002219 19.940928,16.2843728 19.9905904,16.6504484 L19.997437,16.752219 L19.997437,17.25 C19.997437,19.2542592 18.4250759,20.8912737 16.4465956,20.994802 L16.247437,21 L6.746704,21 C4.74244483,21 3.10543026,19.4276389 3.00190201,17.4491586 L2.996704,17.25 L2.996704,7.75 C2.996704,5.74574083 4.56906505,4.10872626 6.54754543,4.00519801 L6.746704,4 L10.2109085,4 L6.746704,4 Z M14.5006976,6.51985416 L14.5006976,3.75 C14.5006976,3.12602964 15.20748,2.7899466 15.6876724,3.13980165 L15.7698701,3.20874226 L21.7644714,8.95874226 C22.0442311,9.22708681 22.0696965,9.65811353 21.8408438,9.95607385 L21.7645584,10.0411742 L15.7699571,15.7930263 C15.3196822,16.2250675 14.5877784,15.9476738 14.5078455,15.3589039 L14.5006976,15.2518521 L14.5006976,12.5265324 L14.1572053,12.5566444 C11.7575155,12.8069657 9.45747516,13.8878535 7.24265269,15.8173548 C6.72354372,16.2695904 5.9204142,15.8420034 6.00578894,15.1588473 C6.67057872,9.83929778 9.45245108,6.90729635 14.2013326,6.53950096 L14.5006976,6.51985416 L14.5006976,3.75 L14.5006976,6.51985416 Z M16.0006976,5.50864341 L16.0006976,7.25 C16.0006976,7.66421356 15.6649111,8 15.2506976,8 C11.3772927,8 8.97667396,9.67612932 7.93942891,13.1571821 L7.86037164,13.4357543 L8.21256044,13.1989337 C10.4490427,11.7371925 12.7984587,11 15.2506976,11 C15.6303934,11 15.9441885,11.2821539 15.993851,11.6482294 L16.0006976,11.75 L16.0006976,13.4928166 L20.1619348,9.50008715 L16.0006976,5.50864341 Z"
                                        id="🎨-Color"
                                ></path>
                            </g>
                        </g>
                    </svg>
                </a>
            </div>

            <div class="bookmark">
              <i class="fa-regular fa-bookmark"></i>
            </div>
          </div>
{#            {% if is_owner %}#}
{#                Owner#}
{#            {% else %}#}
{#                Not owner#}
{#            {% endif %}#}
        </article>
        <div class="add_comment_box">
          <!-- Start Add Comments Form -->
          <form method="post" action="{% url 'comment article' article_id=article.id user_id=request.user.pk %}">
              {{ form }}
              {% csrf_token %}
{#            <label for="id_body"></label>#}
{##}
{#            <textarea#}
{#              name="body"#}
{#              cols="138"#}
{#              rows="10"#}
{#              placeholder="Add comment..."#}
{#              maxlength="300"#}
{#              required=""#}
{#              id="id_body"#}
{#            ></textarea>#}
            <!-- Post Comments Button -->
            <button type="submit">Comment</button>
          </form>
        </div>
        <div class="comments_box">
            {% for comment in comments %}
                <div class="profile_image">{{ comment.publication_date }}</div>
                <div class="username">{{ comment.user_id }}</div>
                <div class="content">{{ comment.text }}</div>
            {% endfor %}
        </div>
      </main>
{% endblock %}